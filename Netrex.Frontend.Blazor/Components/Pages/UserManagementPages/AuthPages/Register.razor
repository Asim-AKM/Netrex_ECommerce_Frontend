@page "/register"
@rendermode InteractiveServer

<div class="auth-wrapper">
    <div class="auth-left">
        <h1>NETREX<br />ECOMMERCE</h1>
        <p>Create your account and start selling smarter.</p>
    </div>

    <EditForm Model="_model" OnValidSubmit="HandleSignUp" FormName="SignUp" class="auth-right">
        <DataAnnotationsValidator />
        <h2>Sign Up</h2>
        <!-- General API message -->
        @if (!string.IsNullOrEmpty(generalMessage))
        {
            <p style="font-weight:10;text-align:center;color:red">@generalMessage</p>
        }
        <!-- Full Name -->
        <div class="input-group">
            <span class="icon">
                <img src="assets/user-management-assets/icons/User Male Ganja.png" />
            </span>
            <InputText type="text" name="FullName" @bind-value="_model.FullName" placeholder="Full Name" required />
        </div>
        @if (fieldErrors.ContainsKey(nameof(_model.FullName)))
        {
            <div class="text-danger" style="color:red">@fieldErrors[nameof(_model.FullName)]</div>
        }

        <!-- User Name -->
        <div class="input-group">
            <span class="icon">
                <img src="assets/user-management-assets/icons/user-icon.png" />
            </span>
            <InputText @bind-value="_model.UserName" name="UserName" type="text" placeholder="UserName" required />
        </div>
        @if (fieldErrors.ContainsKey(nameof(_model.UserName)))
        {
            <div class="text-danger" style="color:red">@fieldErrors[nameof(_model.UserName)]</div>
        }

        <!-- Email -->
        <div class="input-group">
            <span class="icon">
                <img src="assets/user-management-assets/icons/email-icon.png" />
            </span>
            <InputText @bind-value="_model.Email" name="Email" type="email" placeholder="Email" required />
        </div>
        @if (fieldErrors.ContainsKey(nameof(_model.Email)))
        {
            <div class="text-danger" style="color:red">@fieldErrors[nameof(_model.Email)]</div>
        }

        <!-- Password -->
        <div class="input-group">
            <span class="icon">
                <img src="assets/user-management-assets/icons/Lock black.png" />
            </span>
            <InputText @bind-value="_model.Password" name="Password" id="password" type="password" placeholder="Password" required />

            <span class="toggle-password" onclick="togglePassword()">
                <img id="eyeIcon" src="assets/user-management-assets/icons/monkey-password-hide.png" style="height:25px" />
            </span>
        </div>
        @if (fieldErrors.ContainsKey(nameof(_model.Password)))
        {
            <div class="text-danger" style="color:red" >@fieldErrors[nameof(_model.Password)]</div>
        }

        <button class="btn">Create Account</button>
       
        <div class="auth-footer">
            <div class="auth-footer-links">
                Already have account? <a href="/login">Login</a>
            </div>
        </div>
    </EditForm>
</div>
